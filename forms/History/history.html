<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="../../styles.css" />
    <title>History</title>
  </head>
  <body>
    <main>
      <div class="historyContainer">
        <div class="title">Completed Work Orders</div>
        <table name="historyTable" class="tableContent" id="historyTable">
          <thead></thead>
          <tbody></tbody>
        </table>
      </div>
      <div id="modal" class="modal">
        <div class="modal-header">
          <div id="modal-title" class="modal-title"></div>
          <button id="close-button" onclick="closeModal()" class="close-button">&#10006</button>
        </div>
        <div id="modal-body" class="modal-body">
          <h2>Client Information</h2>
          <ul class="modalList">
            <li class="modalText" id="companyName"><div class="modalLabel">Company Name:</div><div class="modalValue"></div></li>
            <li class="modalText" id="companyAddress"><div class="modalLabel">Company Address:</div><div class="modalValue"></div></li>
            <li class="modalText" id="workSite"><div class="modalLabel">Work Site:</div><div class="modalValue"></div></li>
            <li class="modalText" id="contactName"><div class="modalLabel">Contact Name:</div><div class="modalValue"></div></li>
            <li class="modalText" id="contactNumber"><div class="modalLabel">Contact Number:</div><div class="modalValue"></div></li>
            <li class="modalText" id="contactEmail"><div class="modalLabel">Contact Email:</div><div class="modalValue"></div></li>
            <li class="modalText" id="orderDetails"><div class="modalLabel">Order Details:</div><div class="modalValue"></div></li>
            <li class="modalText" id="date"><div class="modalLabel">Date:</div><div class="modalValue"></div></li>
            <li class="modalText" id="createdBy"><div class="modalLabel">Created By:</div><div class="modalValue"></div></li>
          </ul>
          <h2>Service Information</h2>
          <ul class="modalList">
            <li class="modalText" id="serviceDetails"><div class="modalLabel">Service Details:</div><div class="modalValue"></div></li>
            <li class="modalText" id="jobNumber"><div class="modalLabel">Job Number:</div><div class="modalValue"></div></li>
            <li class="modalText" id="notes"><div class="modalLabel">Notes:</div><div class="modalValue"></div></li>
            <li class="modalText" id="truckStock"><div class="modalLabel">Inventory:</div><div class="modalValue"></div></li>
          </ul>  
          <h3>Materials List</h3>
          <table name="materialsTable" class="tableContent" id="materialsTable">
            <thead>
              <tr>
                <th>Quantity</th>
                <th>Part Number</th>
                <th>Description</th>
              </tr>
            </thead>
          </table>
        </div>
      </div>
      <div id="overlay"></div>
      <script>
        function closeModal() {
          var myTable = document.getElementById("materialsTable");
          var rowCount = myTable.rows.length;
          for (var x=rowCount-1; x>0; x--) {
            myTable.deleteRow(x);
          }
          modal.classList.remove("active");
          overlay.classList.remove("active");
        }
        function dropdown() {
          document.getElementById("myDropdown").classList.toggle("show");
        }
        window.onclick = function (e) {
          if (!e.target.matches(".dropbtn")) {
            var myDropdown = document.getElementById("myDropdown");
            if (myDropdown.classList.contains("show")) {
              myDropdown.classList.remove("show");
            }
          }
        };
      </script>
      <script src="../data.js"></script>
      <script src="loadHistoryTable.js"></script>
    </main>
  </body>
</html>
